<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{user/layout/default-user}">
	  
	<head>
		<link th:href="@{/assets/css/user/user.css}" rel="stylesheet" type="text/css" />
	</head>
	
	<th:block layout:fragment="contents-body">
		<header>
			<div class="header-div">
	            <div class="header-img" th:onclick="|location.href='@{/}'|">
	                <img id="header-img" th:src="@{/assets/imgs/logo/GP_logo.png}"/>
	            </div>
	        </div>
		</header>
		
		<form id="addUserForm" class="join-info-form" th:action="@{/addUserPro}" method="post">
            <div class="user-form-text">
                <h3>회원가입</h3>
            </div>
            <div class="user-form-group">
                <input type="text" id="id" name="id" class="user-insert-form" placeholder="아이디를 입력해주세요">
            </div>
            <!-- <div>
                <input type="hidden" id="authrtNm" name="authrtNm" value="회원">
            </div> -->
            <div class="user-form-group">
                <input type="password" id="userPswd" name="userPswd" class="user-insert-form" placeholder="비밀번호를 입력해주세요">
            </div>
            <div class="user-form-group">
                <input type="password" id="userPswdCheck" class="user-insert-form" placeholder="비밀번호를 재입력해주세요">
            </div>
            <div class="user-form-group">
                <input type="text" id="userNm" name="userNm" class="user-insert-form" placeholder="이름을 입력해주세요">
            </div>
            <div class="user-form-group-gender">
                <input type="radio" class="btn-check" id="male" name="userGender" value="M" autocomplete="off">
                <label class="btn btn-primary btn-lg" for="male">남성</label>

                <input type="radio" class="btn-check" id="female" name="userGender" value="F" autocomplete="off">
                <label class="btn btn-primary btn-lg" for="female">여성</label>
            </div>
            <div class="user-form-group">
                <input type="email" id="userEmlAddr" name="userEmlAddr" class="user-insert-form" placeholder="이메일을 입력해주세요">
            </div>
            <div class="user-form-group-brdt">
                <input type="text" id="userBrdt" name="userBrdt" class="user-insert-form" placeholder="생년월일을 입력해주세요">
            </div>
            <div class="user-form-group">
                <input type="tel" id="userTelno" name="userTelno" class="user-insert-form" placeholder="전화번호를 입력해주세요">
            </div>
            <div class="user-form-group">
                <input type="text" id="userNn" name="userNn" class="user-insert-form" placeholder="닉네임을 입력해주세요">
            </div>
            <div>
                <button type="button" id="addUserBtn" class="btn btn-primary common-btn-lg">회원가입</button>
            </div>
        </form>
		
	</th:block>

	<!--/* 사용자 추가 js file */-->
    <th:block layout:fragment="customJsResource">
    	<script  src="http://code.jquery.com/jquery-latest.min.js"></script>
    </th:block>
    <!--/* 사용자 추가 js script */-->
    <th:block layout:fragment="customJs">
    	<script>
    		
    	const msg = /*[[${msg}]]*/ "msg";
		if(msg) alert(msg);
    		
		$('#addUserBtn').click(function() {
		    let isSubmit = true;

		    $('#addUserForm input').each((idx, item) => {
		        const inputValue = $(item).val();
		        const radioValue = $("input[name='userGender']:checked").val();
		        
		        if ((!inputValue && item.type !== 'radio') || (item.name === 'userGender' && !radioValue)) {
		            isSubmit = false;
		            $(item).focus();
		            return false;
		        }
		    });
		    
		    if (isSubmit) {
		        $('#addUserForm').submit();
		    }
		});
    	
    	</script>
    </th:block>
            
</html>